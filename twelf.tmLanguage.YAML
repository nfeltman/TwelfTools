# intended to be used with the SerializedDataConverter package
---
name: Twelf
scopeName: source.twelf
fileTypes: [elf]
uuid: 6b5536a4-8b6d-4f22-9470-66f5f4d8a052

repository:
  lineComment:
    comment: Line Comment
    name: comment.line.twelf
    begin: \%\%
    end: \n

  blockComment:
    comment: Block Comment
    name: comment.block.twelf
    begin: \%\{
    end: \}\%

patterns:
- include: '#blockComment'

- include: '#lineComment'

- comment : Atomic Declaration
  name : meta.function.twelf
  begin : '([a-z0-9_\-][A-Za-z0-9_\-/\\\*\''^+]*)\s*:'
  end : \.
  beginCaptures :
    '1': {name: entity.name.function}
  patterns : 
  - include: '#blockComment'
  - include: '#lineComment'
  - comment: Just Keywords
    name: constant.language.twelf
    match: type

  - comment: Arrows
    name: keyword.operator.twelf
    match: '(\->|<\-)'

  - comment : Grouping Operators
    name: keyword.character.escape
    match: '\{|\}|\(|\)|:'

  - comment: Meta Variables
    name: variable.language.twelf
    match: '[A-Z_][A-Za-z0-9_\-/\\\*\''^+]*'

  - comment: Standard Variables
    name: variable.parameter.twelf
    match: '[a-z0-9\-][A-Za-z0-9_\-/\\\*\''^+]*'

- comment: Other Directives
  name: support.typedef.twelf
  begin: \%(name|worlds|block|mode|total|freeze)
  end: \.
  patterns: 
  - include: '#blockComment'
  - include: '#lineComment'
...